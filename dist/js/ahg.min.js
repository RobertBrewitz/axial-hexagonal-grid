var Grid;Grid=function(){"use strict";function a(){this.tileSize=100,this.tileSpacing=0,this.pointyTiles=!1}return a.prototype.ring=function(a,b,c){var d,e,f,g,h,i,j,k;for(k=[],i=[[1,0],[0,-1],[-1,0],[-1,1],[0,1],[1,0],[1,-1]],h=d=0,f=i.length;f>d;h=++d)for(g=i[h],e=0,j=c-1;j>=0?j>=e:e>=j;j>=0?e++:e--)a+=g[0],b+=g[1],0!==h&&k.push({q:a,r:b});return k},a.prototype.hexagon=function(a,b,c,d){var e,f,g,h;for(h=[],d&&h.push({q:a,r:b}),e=f=1,g=c;g>=1?g>=f:f>=g;e=g>=1?++f:--f)h=h.concat(this.ring(a,b,e));return h},a.prototype.neighbors=function(a,b){var c,d,e,f,g;for(g=[],f=[[1,0],[1,-1],[0,-1],[-1,0],[-1,1],[0,1]],c=0,d=f.length;d>c;c++)e=f[c],g.push({q:a+e[0],r:e[1]});return g},a.prototype.getCenterXY=function(a,b){var c,d;return this.pointyTiles?(c=(this.tileSize+this.tileSpacing)*Math.sqrt(3)*(a+b/2),d=-(3*(this.tileSize+this.tileSpacing)/2*b)):(c=3*(this.tileSize+this.tileSpacing)/2*a,d=-((this.tileSize+this.tileSpacing)*Math.sqrt(3)*(b+a/2))),{x:c,y:d}},a.prototype.axialDistance=function(a,b,c,d){return(Math.abs(a-c)+Math.abs(b-d)+Math.abs(a+b-c-d))/2},a.prototype.pixelToAxial=function(a,b){var c,d,e;return d=this.pixelToDecimalQR(a,b),c=this.axialToCube(d),e=this.roundCube(c),this.cubeToAxial(e)},a.prototype.pixelToDecimalQR=function(a,b,c){var d,e;return"number"!=typeof c&&(c=1),this.pointyTiles?(d=(1/3*Math.sqrt(3)*a-1/3*-b)/(this.tileSize+this.tileSpacing),e=2/3*-b/(this.tileSize+this.tileSpacing)):(d=2/3*a/(this.tileSize+this.tileSpacing),e=(1/3*Math.sqrt(3)*-b-1/3*a)/(this.tileSize+this.tileSpacing)),d/=c,e/=c,{q:d,r:e}},a.prototype.roundCube=function(a){var b,c,d,e,f,g;return e=Math.round(a.x),f=Math.round(a.y),g=Math.round(a.z),b=Math.abs(e-a.x),c=Math.abs(f-a.y),d=Math.abs(g-a.z),b>c&&b>d?e=-f-g:c>d?f=-e-g:g=-e-f,{x:e,y:f,z:g}},a.prototype.cubeToAxial=function(a){return{q:a.x,r:a.y}},a.prototype.axialToCube=function(a){return{x:a.q,y:a.r,z:-a.q-a.r}},a}();